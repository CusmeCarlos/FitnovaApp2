<!-- HTML Template -->
<ion-header [translucent]="true">

</ion-header>

<ion-content [fullscreen]="true" class="login-content">
  <!-- Background overlay -->
  <div class="background-overlay"></div>
  
  <div class="login-container">
    <!-- Logo Section -->
    <div class="logo-section">
      <div class="gymshark-logo">
        <img src="assets/gymshark-logo.png" alt="Gymshark Logo" class="gymshark-img">
      </div>
      <h1 class="brand-title">FitNova</h1>
      <p class="brand-subtitle">POWERED BY GYMSHARK</p>
    </div>

    <!-- Login Form -->
    <div class="form-container">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Email Input -->
        <div class="input-group">
          <ion-item class="custom-input" lines="none">
            <ion-label position="floating" class="input-label">Email</ion-label>
            <ion-input 
              type="email" 
              formControlName="email" 
              autocomplete="email"
              class="custom-input-field">
            </ion-input>
          </ion-item>
          <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error-text">
            <div *ngIf="email?.errors?.['required']">Email is required</div>
            <div *ngIf="email?.errors?.['email']">Please enter a valid email</div>
          </div>
        </div>

        <!-- Password Input -->
        <div class="input-group">
          <ion-item class="custom-input" lines="none">
            <ion-label position="floating" class="input-label">Password</ion-label>
            <ion-input 
              [type]="showPassword ? 'text' : 'password'" 
              formControlName="password" 
              autocomplete="current-password"
              class="custom-input-field">
            </ion-input>
            <ion-button 
              slot="end" 
              fill="clear" 
              (click)="togglePasswordVisibility()" 
              type="button"
              class="password-toggle">
              <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
            </ion-button>
          </ion-item>
          <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error-text">
            <div *ngIf="password?.errors?.['required']">Password is required</div>
            <div *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</div>
          </div>
        </div>

        <!-- Login Button -->
        <ion-button 
          type="submit" 
          expand="block" 
          [disabled]="loginForm.invalid || loading"
          class="login-btn">
          <ion-spinner *ngIf="loading" name="crescent" class="login-spinner"></ion-spinner>
          <span *ngIf="!loading" class="btn-text">SIGN IN</span>
        </ion-button>
      </form>

      <!-- Divider -->
      <div class="divider-section">
        <div class="divider-line"></div>
        <span class="divider-text">OR</span>
        <div class="divider-line"></div>
      </div>

      <!-- Google Login -->
      <ion-button 
        expand="block" 
        fill="outline"
        (click)="googleLogin()" 
        [disabled]="loading"
        class="google-btn">
        <ion-icon name="logo-google" slot="start" class="google-icon"></ion-icon>
        <span class="btn-text">Continue with Google</span>
      </ion-button>

      <!-- Links -->
      <div class="links-section">
        <ion-button 
          fill="clear" 
          routerLink="/auth/reset-password" 
          class="link-btn forgot-password">
          Forgot Password?
        </ion-button>
        
        <div class="signup-section">
          <span class="signup-text">Don't have an account?</span>
          <ion-button 
            fill="clear" 
            routerLink="/auth/register" 
            class="link-btn signup-btn">
            Sign Up
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>